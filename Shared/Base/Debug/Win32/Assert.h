///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// This software is supplied under the terms of a license agreement or
// nondisclosure agreement and may not be copied or disclosed except in
// accordance with the terms of that agreement.
//
// Copyright (c) 2003-2005 Jesper Svennevid, Daniel Collin.
// All Rights Reserved.
//
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef zenic_win32_Assert_h
#define zenic_win32_Assert_h

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Includes
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "../../Types.h"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Forwards
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

namespace zenic
{
	class BufferStream;
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

namespace zenic
{

class Assert
{
public:

	enum
	{
		Requester       = 0x01,
		ErrorStream     = 0x02,
		DebugOutput     = 0x04
	};

	static void assertStatement(const char* expression, const char* filename, uint line);

	static void setMethods(uint methods); 
	static uint methods();

private:

	enum
	{
		LineLength = 60
	};

	static void truncate(BufferStream& s, uint length, const char* input);

	static uint ms_methods;
};

}

#endif
